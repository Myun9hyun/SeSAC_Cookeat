<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <!-- axios cdn -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <link rel="stylesheet" href="/css/bootstrap.min.css" />
        <style>
            body {
                background: #f4f4f4;
                padding: 0 8px;
            }

            .noData {
                background-color: #f7f5ec;
                max-width: 1200px;
                margin: 0 auto;
                box-shadow: 0px 0px 15px rgba(80, 80, 80, 0.4);
                text-align: center;
                height: 500px;
                line-height: 500px;
                border-radius: 20px;
            }
            .container {
                background-color: #f7f5ec;
               max-width: 1200px;
                margin: 0 auto;
                box-shadow: 0px 0px 15px rgba(80, 80, 80, 0.4);
                text-align: center;
                border-radius: 20px;
                padding: 3rem 0;
            }
            .container .lists {
                margin: 0 auto;
            }
            .container .top {
                /* display: flex; */
                /* width: 1150px; */
                height: 50px;
                align-items: center;
                text-align: center;
                top: 5px;
                /* border: 1px solid black; */
                border-radius: 20px;
                /* margin-bottom: 10px; */
            }
            .container .top .items {
                /* display: flex; */
                border: 1px solid black;
                /* border-radius: 20px; */
                /* width: 100px; */
                height: 50px;
                text-align: center;
            }
            .container .infomation {
                /* display: flex; */
                justify-content: start;
                /* position: absolute; */
                /* width: 1150px; */
                /* height: 400px; */
                /* flex-direction: column; */
                /* border: 1px solid black; */
                border-radius: 20px;
                /* margin-bottom: 5px; */

            }
            .infos {
                border: 1px solid black;
                border-radius: 20px;
                height: 50px;
            }
            .infos > td {
                margin-bottom: 10px;
            }

            .postId {
                /* width: 100px; */
            }
            .id {
                /* width: 100px; */
            }
            .title {
                /* width: 400px; */
            }
            .createdAt {
                /* width: 500px; */
            }
            .User {
                /* width: 100px; */
            }
        </style>
    </head>
    <body>
        <% if(!isData){%>
        <p class="noData"><%=message %></p>

        <%} else{%>

        <section class="container">

            <table class="lists">
                <thead>
                    <tr class="top">
                        <td class="items num">번호</td>
                        <td class="items identi">ID</td>
                        <td class="items postsTitle">제목</td>
                        <td class="items postsDate">작성일</td>
                        <td class="items writer">작성자</td>
                    </tr>
                </thead>
                
                <tbody>
                    
                    <!-- [{postId, id, title, createdAt, User:{} }] -->
                    <% for(let post of posts){ %>
                        <tr class="infomation">
                            <td class="infos postId"><%=post.postId%></td>
                            <td class="infos id"><%=post.id%></td>
                            <td class="infos title"><a href=/post/<%=post.postId%>><%=post.title%></a></td>
                            <td class="infos createdAt"><%=post.createdAt%></td>
                            <td class="infos User"><%=post.User.userName%></td>
                        </tr>
                        <% } %>
                    </tbody>
                </table>
                <a href="/post">게시글 작성</a>
            </section>
                <% } %>
        <footer>
            <script src="/js/bootstrap.min.js"></script>
            <script src="/js/bootstrap.bundle.js"></script>
            <script src="/js/jquery.js"></script>
        </footer>
        <script>
            console.log("<%=posts.length%>");
        </script>
    </body>
</html>
